parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lGem":[function(require,module,exports) {
"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,s)}return i}function e(e){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?t(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s={icon:"image",data:function(){return{options:[]}},props:{endpoints:Object,attrs:{type:Object,default:function(){return{}}}},computed:{style:function(){if(this.attrs.ratio)return"padding-bottom:"+100/this.attrs.ratio+"%"},fields:function(){return{alt:{label:this.$t("editor.blocks.srcset.alt.label"),type:"text",icon:"text"},css:{label:this.$t("editor.blocks.srcset.css.label"),type:"text",icon:"code"},width:{label:this.$t("editor.blocks.srcset.width.label"),type:"number",after:"px"},height:{label:this.$t("editor.blocks.srcset.height.label"),type:"number",after:"px"},imgclass:{label:this.$t("editor.blocks.srcset.imgclass.label"),type:"text",icon:"code"},link:{label:this.$t("editor.blocks.srcset.link.label"),type:"text",icon:"url",placeholder:this.$t("editor.blocks.srcset.link.placeholder")},linkclass:{label:this.$t("editor.blocks.srcset.linkclass.label"),type:"text",icon:"code"},rel:{label:this.$t("editor.blocks.srcset.rel.label"),type:"text",icon:"code"},target:{label:this.$t("editor.blocks.srcset.target.label"),type:"text",icon:"code"},title:{label:this.$t("editor.blocks.srcset.title.label"),type:"text",icon:"text"},sizes:{label:this.$t("editor.blocks.srcset.sizes.label"),type:"text",icon:"code",placeholder:"default"},lazy:{label:this.$t("editor.blocks.srcset.lazy.label"),type:"text",icon:"code",placeholder:this.options.lazy},prefix:{label:this.$t("editor.blocks.srcset.prefix.label"),type:"text",icon:"code",placeholder:this.options.prefix},autosizes:{label:this.$t("editor.blocks.srcset.autosizes.label"),type:"text",icon:"code",placeholder:this.options.autosizes},quality:{label:this.$t("editor.blocks.srcset.quality.label"),type:"number",after:"px",placeholder:this.options.quality},figure:{label:this.$t("editor.blocks.srcset.figure.label"),type:"text",icon:"code",placeholder:this.options.figure}}}},mounted:function(){this.fetchOptions("bnomei/srcset/options")},methods:{fetchOptions:function(t){var e=this;this.$api.get(t).then(function(t){e.$nextTick(function(){e.options=t})})},caption:function(t){this.input({caption:t})},edit:function(){this.attrs.guid&&this.$router.push(this.attrs.guid)},focus:function(){this.$refs.element.focus()},input:function(t){this.$emit("input",{attrs:e({},this.attrs,{},t)})},fetchFile:function(t){var e=this;this.$api.get(t).then(function(t){e.input({guid:t.link,src:t.url,id:t.id,ratio:t.dimensions.ratio})})},insertFile:function(t){var e=t[0];this.fetchFile(e.link)},insertUpload:function(t,e){this.fetchFile(e[0].link)},menu:function(){return this.attrs.src?[{icon:"open",label:this.$t("editor.blocks.srcset.open.browser"),clicks:this.open},{icon:"edit",label:this.$t("editor.blocks.srcset.open.panel"),click:this.edit,disabled:!this.attrs.guid},{icon:"cog",label:this.$t("editor.blocks.srcset.settings"),click:this.$refs.settings.open},{icon:"image",label:this.$t("editor.blocks.srcset.replace"),click:this.replace}]:[]},open:function(){window.open(this.attrs.src)},onLoad:function(){var t=this.$refs.image;!this.attrs.ratio&&t&&t.width&&t.height&&this.input({ratio:t.width/t.height})},replace:function(){this.$emit("input",{attrs:{}})},selectFile:function(){this.$refs.fileDialog.open({endpoint:this.endpoints.field+"/files",multiple:!1,selected:[this.attrs.id]})},settings:function(){this.$refs.settings.open()},saveSettings:function(){this.$refs.settings.close(),this.input(this.attrs)},uploadFile:function(){this.$refs.fileUpload.open({url:window.panel.api+"/"+this.endpoints.field+"/upload",multiple:!1,accept:"image/*"})}}};exports.default=s;
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("figure",[e.attrs.src?[s("div",{ref:"element",staticClass:"k-editor-image-block-wrapper",style:e.style,attrs:{"data-responsive":e.attrs.ratio,tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.$emit("remove")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("append")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.$emit("prev"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.$emit("next"))}]}},[s("img",{key:e.attrs.src,ref:"image",attrs:{src:e.attrs.src},on:{dblclick:e.selectFile,load:e.onLoad}})]),e._v(" "),s("div",{staticClass:"lazysrcset-icon"},[s("k-button",{attrs:{icon:"cog"},on:{click:e.settings}},[e._v(e._s(e.$t("editor.blocks.srcset.icon"))+" ")])],1),e._v(" "),s("figcaption",[s("k-editable",{attrs:{content:e.attrs.caption,breaks:!0,placeholder:e.$t("editor.blocks.srcset.caption.placeholder")+"â€¦"},on:{input:e.caption}})],1)]:[s("div",{ref:"element",staticClass:"k-editor-image-block-placeholder",attrs:{tabindex:"0"}},[s("k-button",{attrs:{icon:"upload"},on:{click:e.uploadFile}},[e._v(e._s(e.$t("editor.blocks.srcset.upload"))+" ")]),e._v(" "+e._s(e.$t("editor.blocks.srcset.or"))+" "),s("k-button",{attrs:{icon:"image"},on:{click:e.selectFile}},[e._v(e._s(e.$t("editor.blocks.srcset.select"))+" ")])],1)]],2),e._v(" "),s("k-dialog",{ref:"settings",attrs:{size:"medium"},on:{submit:e.saveSettings}},[s("k-form",{attrs:{fields:e.fields},on:{submit:e.saveSettings},model:{value:e.attrs,callback:function(t){e.attrs=t},expression:"attrs"}})],1),e._v(" "),s("k-files-dialog",{ref:"fileDialog",on:{submit:function(t){return e.insertFile(t)}}}),e._v(" "),s("k-upload",{ref:"fileUpload",on:{success:e.insertUpload}})],1)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=t(require("./components/blocks/Srcset.vue"));function t(e){return e&&e.__esModule?e:{default:e}}editor.block("srcset",e.default);
},{"./components/blocks/Srcset.vue":"lGem"}]},{},["Focm"], null)